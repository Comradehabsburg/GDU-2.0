###########################
# Dakota War Events
###########################

add_namespace = dakota

#sioux uprising
country_event = {
	id = dakota.1
	title = dakota.1.t
	desc = dakota.1.d
		picture = GFX_report_event_generic_read_write

	trigger = {
	has_character = USA_abraham_lincoln
	32 = {
	is_controlled_by  = USA
	}
	NOT = {
	country_exists = SIO
	}
	date > 1862.8.3
	}
	fire_only_once = yes
	option = {
	name = dakota.1.a
	ai_chance = { factor = 1000 }
	hidden_effect = {
	create_corps_commander = {
	name = "Henry Hastings Sibley"
	picture = "Henry_Hastings_Sibley.dds"
	traits = { trickster }
	skill = 2
	attack_skill = 2
	defense_skill = 2
	planning_skill = 2
	logistics_skill = 2
}
	32 = {
		add_building_construction = {
    type = bunker
    level = 1
    instant_build = yes
    province = 7009
		}
		add_building_construction = {
    type = bunker
    level = 1
    instant_build = yes
    province = 4325
		}
		}
	add_victory_points = {
	province = 7009
	value = 2
	}
	add_victory_points = {
	province = 4325
	value = 1
	}
	add_victory_points = {
	province = 100
	value = 10
	}
	add_victory_points = {
	province = 5466
	value = 10
	}
	add_victory_points = {
	province = 2081
	value = 3
	}
		SIO = {
		add_ideas = for_my_tribes
		set_state_owner = 32
		set_province_controller = 100
		set_province_controller = 7037
		set_province_controller = 5466
		set_province_controller = 2081
		set_province_controller = 7029
		set_province_controller = 7047
		set_province_controller = 5247
		set_province_controller = 376
		set_province_controller = 1528
		set_province_controller = 498
		set_province_controller = 1570
		set_province_controller = 6953
		set_province_controller = 2537
		set_province_controller = 5745
		set_province_controller = 2914
		set_province_controller = 2409
		set_province_controller = 3926
		load_oob = sioux_tribes
		}
		USA = {
		declare_war_on = {
    target = SIO
    type = annex_everything
		}
		add_political_power = 250
		load_oob = minnesota_guard
		}
			every_country = {
	set_global_flag = CM_SE_opened
	clear_array = CM_SE_event_id_array
	add_to_array = { CM_SE_event_id_array = 12 }	
	play_song = dakota
	}
		}
	}
	option = {
	name = dakota.1.b
	hidden_effect = {
	create_corps_commander = {
	name = "Henry Hastings Sibley"
	picture = "Henry_Hastings_Sibley.dds"
	traits = { trickster }
	skill = 2
	attack_skill = 2
	defense_skill = 2
	planning_skill = 2
	logistics_skill = 2
}

	add_victory_points = {
	province = 7009
	value = 2
	}
	add_victory_points = {
	province = 4325
	value = 1
	}
	add_victory_points = {
	province = 100
	value = 10
	}
	add_victory_points = {
	province = 5466
	value = 10
	}
	add_victory_points = {
	province = 2081
	value = 3
	}
	32 = {
		add_building_construction = {
    type = bunker
    level = 1
    instant_build = yes
    province = 7009
		}
		add_building_construction = {
    type = bunker
    level = 1
    instant_build = yes
    province = 4325
		}
		}
		SIO = { change_tag_from = ROOT }
		SIO = {
		add_ideas = for_my_tribes
		set_state_owner = 32
		set_province_controller = 100
		set_province_controller = 7037
		set_province_controller = 5466
		set_province_controller = 2081
		set_province_controller = 7029
		set_province_controller = 7047
		set_province_controller = 5247
		set_province_controller = 376
		set_province_controller = 1528
		set_province_controller = 498
		set_province_controller = 1570
		set_province_controller = 6953
		set_province_controller = 2537
		set_province_controller = 5745
		set_province_controller = 2914
		set_province_controller = 2409
		set_province_controller = 3926
		load_oob = sioux_tribes
		}
		USA = {
		declare_war_on = {
    target = SIO
    type = annex_everything
		}
		load_oob = minnesota_guard
		add_political_power = 250
		}
		}
			every_country = {
	set_global_flag = CM_SE_opened
	clear_array = CM_SE_event_id_array
	add_to_array = { CM_SE_event_id_array = 12 }	
	play_song = dakota
	}
	}
}
#sioux surrender
country_event = {
	id = dakota.2
	title = dakota.2.t
	desc = dakota.2.d
	picture = GFX_report_event_generic_read_write
	mean_time_to_happen = { days = 1 } 
	fire_only_once = yes
	trigger = {
	has_character = SIO_little_crow
	date > 1862.8.1
	has_war_with = USA
	SIO = {
	surrender_progress > 0.75
	}
	}

	option = {
	name = dakota.2.a
	ai_chance = { factor = 1000 }
	custom_effect_tooltip = trial_in_mankato
	SIO = {
	white_peace = USA
	}
	USA = {
	annex_country = {
	  target = SIO
			}
			set_country_flag = sioux_surrender
		}
	}
}
#Sioux Trial - Warning from Minnesota
country_event = {
 id = dakota.6
 title = dakota.6.t
 desc = dakota.6.d
 picture = GFX_report_event_german_parade_paris
 mean_time_to_happen = { days = 1 } 
 fire_only_once = yes
 
	trigger  = {
	has_character = USA_abraham_lincoln
	has_country_flag = sioux_surrender
	NOT = {
	country_exists = SIO
	}
	date > 1862.8.12
	}

 option = {
	name = dakota.6.a
	ai_chance = { factor = 100 }
	}
}
#Henry B. Whipple
country_event = {
 id = dakota.7
 title = dakota.7.t
 desc = dakota.7.d
 picture = GFX_report_event_german_parade_paris
 mean_time_to_happen = { days = 1 } 
 fire_only_once = yes
 
	trigger  = {
	has_character = USA_abraham_lincoln
	has_country_flag = sioux_surrender
	NOT = {
	country_exists = SIO
	}
	date > 1862.8.12
	}

 option = {
	name = dakota.7.a
	ai_chance = { factor = 100 }
	}
}
#Sioux Trial
country_event = {
	id = dakota.3
	title = dakota.3.t
	desc = dakota.3.d
	picture = GFX_report_event_generic_read_write
	mean_time_to_happen = { days = 1 } 
	fire_only_once = yes
	fixed_random_seed = no
	trigger = {
	has_character = USA_abraham_lincoln
	date > 1862.9.1
	has_country_flag = sioux_surrender
	USA = {
	has_full_control_of_state = 32
	}
	NOT = {
	country_exists = SIO
	}
	}

	option = {
	name = dakota.3.a
	ai_chance = { factor = 1000 }
	custom_effect_tooltip = the_result_and_history
	32 = {
	add_manpower = -38
	}
	add_political_power = 50
	every_country = {
	set_global_flag = CM_SE_opened
	clear_array = CM_SE_event_id_array
	add_to_array = { CM_SE_event_id_array = 13 }	
	play_song = hanging
	}
	}
	option = {
	name = dakota.3.b
	custom_effect_tooltip = the_result_and_history
	32 = {
	add_manpower = -303
	}
	add_political_power = 100
		every_country = {
	set_global_flag = CM_SE_opened
	clear_array = CM_SE_event_id_array
	add_to_array = { CM_SE_event_id_array = 13 }	
	play_song = hanging
	}
	}
	option = {
	name = dakota.3.c
	custom_effect_tooltip = the_result_and_history
		random_list = {
				50 = {
				custom_effect_tooltip = local_refuse_to_obey
				country_event = {
				id = dakota.4
				days = 5
				random = 5
				random_days = 5
			}
		}
				50 = {
				custom_effect_tooltip = local_force_obey_the_result
				country_event = {
				id = dakota.5
				days = 5
				random = 5
				random_days = 5
			}
			}
		}
	}
}
country_event = {
 id = dakota.4
 title = dakota.4.t
 desc = dakota.4.d
 picture = GFX_report_event_german_parade_paris
 mean_time_to_happen = { days = 1 } 
 fixed_random_seed = no
 is_triggered_only = yes

 option = {
	name = dakota.4.a
	ai_chance = { factor = 100 }
			32 = {
				add_manpower = -303
				}
		add_political_power = -40
	every_country = {
	set_global_flag = CM_SE_opened
	clear_array = CM_SE_event_id_array
	add_to_array = { CM_SE_event_id_array = 13 }	
	play_song = hanging
	}
	}
}
country_event = {
 id = dakota.5
 title = dakota.5.t
 desc = dakota.5.d
 picture = GFX_report_event_german_parade_paris
 mean_time_to_happen = { days = 1 } 
 fixed_random_seed = no
 is_triggered_only = yes

 option = {
	name = dakota.5.a
	ai_chance = { factor = 100 }
		add_political_power = 150
	}
}
